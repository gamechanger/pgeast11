
PostGres

-----

Main points: working set, indexing, infrastructure

-----

Me: KS, CTO, early-adopter.  Mongo by fire.  Python preso.
Agenda: GC, me, arch, mongo, terminal.
GC: 9p, 2y, i->o. MLB.com nerds, jobs@gc.io.  seriously.
Me: Langs, learning, history.  hacker->nuanced/manager hacker.  DisMath=runtimes, algs, structs!!!
Mongo: GC=(data + media), JSON, Mongo, completely insane.
Arch: API, JSON, LAMP->NAMP?

Yay:

team = {"name": "NYC Jaguars", "sport": "baseball"}
mongo.datadb.team.save(team) # omg wow

Next: 1 year in 30 min.  Working sets.  Understanding.

// assume /data/0,1,2,34,5,6,7,8,9, all with good permissions

nohup mongod --port 30000 --dbpath /data/0/ --logpath ~/mongo.0.log --cpu 2>&1 > mongo.0.out &
mongo localhost:30000
// so yay, look, we have mongo running!
// mess around a bit
mongo localhost:30000
> show dbs
> db.stats()
mongostat

kill -2 mongod
nohup mongod --port 30000 --dbpath /data/0/ --replSet node1 --logpath ~/mongo.0.log --logappend --cpu 2>&1> mongo.0.out &
nohup mongod --port 30001 --dbpath /data/1/ --replSet node1 --logpath ~/mongo.1.log --logappend --cpu 2>&1> mongo.1.out &
nohup mongod --port 30002 --dbpath /data/2/ --replSet node1 --logpath ~/mongo.2.log --logappend --cpu 2>&1> mongo.2.out &

alias m0="mongo localhost:30000"
alias m1="mongo localhost:30001"
alias m2="mongo localhost:30002"

m0
> rs.initiate()
> rs.add("localhost:30001")
> rs.addArb("localhost:30002")
> use data
> db.thingoes.save({a: 1, b: 2, x: true})
> db.thingoes.find()

m1
> show dbs
> use data
> show collections
> db.getMongo().setSlaveOk()
> db.thingoes.find()

m2
> show dbs








